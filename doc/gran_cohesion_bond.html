

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>gran cohesion bond model &mdash; LIGGGHTS v3.X documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="LIGGGHTS v3.X documentation" href="index.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="Manual.html" class="icon icon-home"> LIGGGHTS
          

          
          </a>

          
            
            
              <div class="version">
                v3.X
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="Section_intro.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_start.html">2. Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_input_script.html">3. Input Script</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_commands.html">4. Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_gran_models.html">5. Contact models</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_mesh_modules.html">6. Mesh modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_packages.html">7. Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_howto.html">8. How-to discussions</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_modify.html">9. Modifying &amp; extending LIGGGHTS(R)-INL</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_python.html">10. Python interface to LIGGGHTS(R)-INL</a></li>
<li class="toctree-l1"><a class="reference internal" href="Section_errors.html">11. Errors</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="Manual.html">LIGGGHTS</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="Manual.html">Docs</a> &raquo;</li>
        
      <li>gran cohesion bond model</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/gran_cohesion_bond.txt" rel="nofollow"> View page source</a>
          
          <a href="http://www.cfdem.com"> Website</a>
          
            <a href="Section_commands.html#comm" rel="nofollow"> Commands</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
  
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="gran-cohesion-bond-model">
<span id="index-0"></span><h1>gran cohesion bond model<a class="headerlink" href="#gran-cohesion-bond-model" title="Permalink to this headline">¶</a></h1>
<div class="section" id="syntax">
<h2>Syntax<a class="headerlink" href="#syntax" title="Permalink to this headline">¶</a></h2>
<pre class="literal-block">
cohesion bond [other model_type/model_name pairs as described <a class="reference internal" href="pair_gran.html"><em>here</em></a> ] keyword values
</pre>
<ul class="simple">
<li>zero or more keyword/value pairs may be appended to the end (after all models are specified)</li>
</ul>
<pre class="literal-block">
<em>stressBreak</em> values = 'on' or 'off'
  on = bond will break by exceeding maximum stresses
  off = no effect due to stress
<em>temperatureBreak</em> values = 'on' or 'off'
  on = not implemented at the moment
  off = no effect due to heat
<em>tensionStress</em> values = 'on' or 'off'
  on = normal, tension force contributes to bond stress
  off = disabled normal, tension forces
<em>compressionStress</em> values = 'on' or 'off'
  on = normal, compression force contributes to bond stress
  off = disabled normal, compression forces
<em>shearStress</em> values = 'on' or 'off'
  on = tangential (shear) force contributes to bond stress
  off = disabled tangential forces
<em>normalTorqueStress</em> values = 'on' or 'off'
  on = normal torque contributes to bond stress
  off = disabled normal torque
<em>shearTorqueStress</em> values = 'on' or 'off'
  on = tangential (shear) torque contributes to bond stress
  off = disabled shear torque
<em>createBondAlways</em> values = 'on' or 'off'
  on = bonds are created always for all particles if they are within a user-defined range
  off = bonds are created at a user-defined timestep for all particles if they are within a user-defined range
<em>dampingBond</em> values = 'on' or 'off'
  on = damping is enabled for bonds
  off = disabled damping
<em>dampingBondSmooth</em> values = 'on' or 'off'
  on = smooth damping is enabled for bonds
  off = disabled smooth damping
<em>dissipationBond</em> values = 'on' or 'off'
  on = dissipation is enabled for bonds
  off = disable dissipation
<em>computeDissipatedEnergy</em> values = 'on' or 'off'
  on = the cohesion model saves the dissipated energy for each contact for the
  use in <code class="xref doc docutils literal"><span class="pre">fix</span> <span class="pre">calculate/dissipated_energy</span></code>
  of = no values are saved
<em>computeElasticPotential</em> values = 'on' or 'off'
  on = the bond model saves the current elastic potential for each contact for
  the use in <code class="xref doc docutils literal"><span class="pre">fix</span>&nbsp;&nbsp;&nbsp;&nbsp; <span class="pre">calculate/cohesion_elastic_energy</span></code>
  of = no values are saved
<em>druckerPrager</em> values = 'on' or 'off'
  on = a Drucker-Prager type model is used for the tangential limiting stress
  off = the constant value is used
<em>ratioTensionCompression</em> values = 'on' or 'off'
  on = a different limiting value for the normal tension and compression case is used
  of = the same value is used
</pre>
</div>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>This model can be used as part of <a class="reference internal" href="pair_gran.html"><em>pair gran</em></a> and
<a class="reference internal" href="fix_wall_gran.html"><em>fix wall/gran</em></a></p>
<p>This bond model implements the parallel bond model from <a class="reference internal" href="#potyondycundall2004"><span>Potyondy and Cundall</span></a> ,
while facilitating some user customization.</p>
<p>The current implementation creates the bond with zero forces and torques between
the bonded particles. Due to relative motion forces and torques will act on the particles, where the
normal force (Fn) is calculated explicit and all the other (tangential force (Ft), normal and tangential
torque (Tn, Tt)) are calculated incrementally:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">Fn</span> <span class="o">=</span>  <span class="n">kn</span> <span class="o">*</span> <span class="n">A</span> <span class="o">*</span> <span class="p">(</span><span class="n">initial_distance</span> <span class="o">-</span> <span class="n">distance</span><span class="p">)</span>
<span class="n">Ft</span> <span class="o">+=</span> <span class="n">kt</span> <span class="o">*</span> <span class="n">A</span> <span class="o">*</span> <span class="n">v_t</span> <span class="o">*</span> <span class="n">dt</span>
<span class="n">Tn</span> <span class="o">+=</span> <span class="n">kt</span> <span class="o">*</span> <span class="n">J</span> <span class="o">*</span> <span class="n">omega_n</span> <span class="o">*</span> <span class="n">dt</span>
<span class="n">Tt</span> <span class="o">+=</span> <span class="n">kn</span> <span class="o">*</span> <span class="n">I</span> <span class="o">*</span> <span class="n">omega_t</span> <span class="o">*</span> <span class="n">dt</span>
</pre></div>
</div>
<p>with the crossectional area <em>A</em>, the polar moment of inertia <em>J</em> and the moment of inertia <em>I</em> defined by</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">A</span> <span class="o">=</span> <span class="n">rb</span><span class="o">^</span><span class="mi">2</span> <span class="o">*</span> <span class="n">pi</span><span class="p">,</span>
<span class="n">J</span> <span class="o">=</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">pi</span> <span class="o">*</span> <span class="n">rb</span><span class="o">^</span><span class="mi">4</span><span class="p">,</span>
<span class="n">I</span> <span class="o">=</span> <span class="mf">0.25</span> <span class="o">*</span> <span class="n">pi</span> <span class="o">*</span> <span class="n">rb</span><span class="o">^</span><span class="mi">4</span>
</pre></div>
</div>
<p>The beam radius (rb) is defined by the product of the minimum radius of the
bonded particles and the user-defined <em>radiusMultiplierBond</em>. With the default
<em>radiusMultiplierBond</em> = 1 the beam that is located between two particles is a
cylinder with radius equal to the minimum radius of the two particles. The
<em>radiusMultiplierBond</em> allows to shrink (or grow) the beam that represents the
bond between these two particles. Clearly, a thicker beam will make the system
more stiff, while a thinner beam will decrease the stiffness (for constant kn
and kt). The <em>normalBondStiffnessPerUnitArea</em> <em>kn</em> and
<em>tangentialBondStiffnessPerUnitArea</em> <em>kt</em> are also user-defined properties.</p>
<p>The stress flags (<em>tensionStress</em>, <em>compressionStress</em>, <em>shearStress</em>, <em>normalTorqueStress</em>, and
<em>shearTorqueStress</em>) allow to disable the calculation of the corresponding force/torque componant
at all. Consequently the disabled component does not contribute to the normal (sigma) or tangential
stress (tau), which are used for the stress-based breakage model (see below).</p>
<p>Unless other breakage models are enabled, the default one depends on an user-defined maximum bond
distance. If the bond is overstreched (distance &gt; <em>maxDistanceBond</em>), it will break.</p>
<p><em>stressBreak</em> = on means a stress-based breakage model, where a bond breaks if a maximum stress is
reached. Therefore, two additional properties have to be defined, <em>maxSigmaBond</em> and <em>maxTauBond</em>.
Those maximum stresses are compared to the calculated bond stresses that are defined by:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">sigma</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">Fn</span><span class="p">)</span><span class="o">/</span><span class="n">A</span> <span class="o">+</span> <span class="nb">abs</span><span class="p">(</span><span class="n">Tt</span><span class="p">)</span> <span class="o">*</span> <span class="n">rb</span><span class="o">/</span><span class="n">I</span>
<span class="n">tau</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">Ft</span><span class="p">)</span><span class="o">/</span><span class="n">A</span> <span class="o">+</span> <span class="nb">abs</span><span class="p">(</span><span class="n">Tn</span><span class="p">)</span> <span class="o">*</span> <span class="n">rb</span><span class="o">/</span><span class="n">J</span>
</pre></div>
</div>
<p>Note that &#8220;normal&#8221; and &#8220;tangential&#8221; always refer to the coordinate system
local to the bond. Thus, these forces and torques need to be rotated along
with the bonded pair of particles to compute the forces and torques in the
global frame of reference.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">LIGGGHTS(R)-INL will calculate a maximum bond length / contact distance
from values for maxDistanceBond or the max. sigma/tau values which is used for defining
the cut-off for the neighbor list build. For unrealistically high values, this might lead
to a neighbor list overflow.</p>
</div>
<p>In order to stabalize the system a kind of energy dissipation is required. By default the model uses the approach as
suggested by <a class="reference internal" href="#potyondycundall2004"><span>Potyondy and Cundall</span></a>. Thus for each degree of freedom a damping
force/torque is added that is defined by (normal force example)</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">Fd</span> <span class="o">=</span> <span class="o">-</span> <span class="n">alpha</span> <span class="o">*</span> <span class="nb">abs</span><span class="p">(</span><span class="n">Fn</span><span class="p">)</span> <span class="o">*</span> <span class="n">sign</span><span class="p">(</span><span class="n">v_n</span><span class="p">)</span>
</pre></div>
</div>
<p>where sign(v) provides the direction of motion (normal or tangential relative (angular) velocity).
The damping coefficient alpha can be set separatly for each degree of freedom by the user-defined
properties <em>dampingNormalForceBond</em>, <em>dampingTangentialForceBond</em>, <em>dampingNormalTorqueBond</em>, and
<em>dampingTangentialTorqueBond</em>. The model can be disabled by the <em>dampingBond</em>.</p>
<p>As the damping model above is sensitive to the sign of the normal velocity this model can
cause instabilities when a system under loading is considered. In this case the
<em>dampingBondSmooth</em> option can be enabled. This will modify the above equation to read</p>
<div class="highlight-python"><div class="highlight"><pre>Fd = - alpha * abs(Fn) * multiplier
multiplier = min(1, max(-1, v_n/max(minvel, dv)))
dv = |force_n * dt|
minvel = radius/dt * 0.001
</pre></div>
</div>
<p>which corresponds to a linear switching for velocities below a velocity threshold that
depends on the force intensity.</p>
<p>Additionally, a temporal dissipation model for forces and torques can be enabled by <em>dissipationBond</em>.
This increases numerical stabilty of the method. The dissipation is controlled by a
user-defined property for each force/torque (<em>dissipationNormalForceBond</em>, <em>dissipationTangentialForceBond</em>,
<em>dissipationNormalTorqueBond</em>, <em>dissipationTangentialTorqueBond</em>). These values have the unit of time (e.g.
seconds for si) and they define the relaxation time (63% of a response answer). In order to disable an
indiviual dissipation term set the corresponding coefficient <em>dissipation*Bond</em> to a high value (e.g. 1e20).
As an example the shear force is relaxed by</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">Ft</span> <span class="o">=</span> <span class="n">Ft</span> <span class="o">*</span> <span class="p">(</span> <span class="mi">1</span> <span class="o">-</span> <span class="nb">min</span><span class="p">(</span><span class="n">dt</span><span class="o">/</span><span class="n">dissipationTangentialForceBond</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="p">)</span>
</pre></div>
</div>
<p>By default bonds are created if two particles touch each other. The option <em>createBond</em> allows to change this
behaviour, thus bonds are created at a user-defined timestep (<em>tsCreateBond</em>, scalar property) for particles
within a user-defined range (<em>createDistanceBond</em>, perAtomTypePair property).</p>
<p>To define those material properties, it is mandatory to use multiple <a class="reference internal" href="fix_property.html"><em>fix property/global</em></a> commands:</p>
<div class="highlight-python"><div class="highlight"><pre>fix id all property/global radiusMultiplierBond peratomtypepair n_atomtypes value_11 value_12 .. value_21 value_22 .. .
fix id all property/global normalBondStiffnessPerUnitArea peratomtypepair n_atomtypes value_11 value_12 .. value_21 value_22 .. .
fix id all property/global tangentialBondStiffnessPerUnitArea peratomtypepair n_atomtypes value_11 value_12 .. value_21 value_22 .. .
    (value_ij=value for the coefficient of restitution between atom type i and j; n_atomtypes is the number of atom types you want to use in your simulation)
</pre></div>
</div>
<p>According to the choosen damping/dissipation model you need to add:</p>
<div class="highlight-python"><div class="highlight"><pre>fix id all property/global dampingNormalForceBond peratomtypepair n_atomtypes value_11 value_12 .. value_21 value_22 .. .
fix id all property/global dampingTangentialForceBond peratomtypepair n_atomtypes value_11 value_12 .. value_21 value_22 .. .
fix id all property/global dampingNormalTorqueBond peratomtypepair n_atomtypes value_11 value_12 .. value_21 value_22 .. .
fix id all property/global dampingTangentialTorqueBond peratomtypepair n_atomtypes value_11 value_12 .. value_21 value_22 .. .
</pre></div>
</div>
<p>or</p>
<div class="highlight-python"><div class="highlight"><pre>fix id all property/global dissipationNormalForceBond peratomtypepair n_atomtypes value_11 value_12 .. value_21 value_22 .. .
fix id all property/global dissipationTangentialForceBond peratomtypepair n_atomtypes value_11 value_12 .. value_21 value_22 .. .
fix id all property/global dissipationNormalTorqueBond peratomtypepair n_atomtypes value_11 value_12 .. value_21 value_22 .. .
fix id all property/global dissipationTangentialTorqueBond peratomtypepair n_atomtypes value_11 value_12 .. value_21 value_22 .. .
</pre></div>
</div>
<p>Dependent on selected flags (<em>stressBreak</em>, <em>temperatureBreak</em>) you need to add:</p>
<div class="highlight-python"><div class="highlight"><pre>fix id all property/global maxDistanceBond peratomtypepair n_atomtypes value_11 value_12 .. value_21 value_22 .. .
</pre></div>
</div>
<p>or</p>
<div class="highlight-python"><div class="highlight"><pre>fix id all property/global maxSigmaBond peratomtypepair n_atomtypes value_11 value_12 .. value_21 value_22 .. .
fix id all property/global maxTauBond peratomtypepair n_atomtypes value_11 value_12 .. value_21 value_22 .. .
</pre></div>
</div>
<p>For <em>createBondAlways</em> = &#8216;on&#8217; you need to add:</p>
<div class="highlight-python"><div class="highlight"><pre>fix id all property/global createDistanceBond peratomtypepair n_atomtypes value_11 value_12 .. value_21 value_22 .. .
</pre></div>
</div>
<p>In this case bonds between two particles can be created each time step as long
as two particles are closer together than the defined <em>createDistanceBond</em>. If
bonds should be created only at one specific time step then <em>createBondAlways</em>
should be set to &#8220;off&#8221; and the specific time step needs to be defined as shown
below. Bonds will then be created if the two particles are within
<em>createDistanceBond</em> and if the time step is equal to <em>tsCreateBond</em>.</p>
<p>For <em>createBondAlways</em> = &#8216;off&#8217; you need to add:</p>
<div class="highlight-python"><div class="highlight"><pre>fix id all property/global tsCreateBond scalar value .
fix id all property/global createDistanceBond peratomtypepair n_atomtypes value_11 value_12 .. value_21 value_22 .. .
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">You have to use atom styles beginning from 1, e.g. 1,2,3,...</p>
</div>
<p>If <em>druckerPrager</em> = &#8216;on&#8217; a Drucker-Prager model is used to determine the limiting
tangential stress. Its value is computed by</p>
<pre class="literal-block">
tau_max = <em>maxTauBond</em> + sigma tan(<em>frictionAngle</em>)
</pre>
<p>where sigma is the normal stress, <em>maxTauBond</em> takes the role of the cohesion strength and
<em>frictionAngle</em> is a peratomtypepair property which needs to be set as</p>
<div class="highlight-python"><div class="highlight"><pre>fix id all property/global frictionAngle peratomtypepair n_atomtypes value_11 value_12 .. value_21 value_22 .. .
</pre></div>
</div>
<p>If <em>ratioTensionCompression</em> = &#8216;on&#8217; the following property needs to be set:</p>
<div class="highlight-python"><div class="highlight"><pre>fix id all property/global ratioTensionCompression peratomtypepair n_atomtypes value_11 value_12 .. value_21 value_22 .. .
</pre></div>
</div>
<p>This value, abbreviated with <em>rTC</em>, is then used to determine the maximum stress in normal
direction under tension as <em>rTC</em> * <em>maxSigmaBond</em>. This can be used to simulate materials
which exhibit different compressive and tensile strengths.</p>
</div>
<div class="section" id="restrictions">
<h2>Restrictions<a class="headerlink" href="#restrictions" title="Permalink to this headline">¶</a></h2>
<p>None.</p>
<p><strong>Coarse-graining information:</strong></p>
<p>Using <a class="reference internal" href="coarsegraining.html"><em>coarsegraining</em></a> in
combination with this command might lead to
different dynamics or system state and thus to
inconsistancies.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><a class="reference internal" href="coarsegraining.html"><em>Coarsegraining</em></a> may or
may not be available in LIGGGHTS(R)-INL.</p>
</div>
</div>
<div class="section" id="default">
<h2>Default<a class="headerlink" href="#default" title="Permalink to this headline">¶</a></h2>
<p><em>stressBreak</em> = off, <em>temperatureBreak</em> = off, <em>tensionStress</em> = on, <em>compressionStress</em> = on, <em>shearStress</em> = on,
<em>normalTorqueStress</em> = on, <em>shearTorqueStress</em> = on, <em>createBondAlways</em> = off, <em>dampingBond</em> = on, <em>dissipationBond</em> = off</p>
<hr class="docutils" />
<p id="potyondycundall2004"><strong>(Potyondy and Cundall, 2004)</strong> &#8220;A bonded-particle model for rock&#8221;, D. O. Potyondy and P. A. Cundall (2004),
International Journal of Rock Mechanics and Mining Sciences, 41(8), 1329ff.</p>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, DCS Computing GmbH, JKU Linz and Sandia Corporation.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'v3.X',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: ''
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>